
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>763. Partition Labels [Medium] Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="122. Best Time to Buy and Sell Stock II.html" />
    
    
    <link rel="prev" href="452. Minimum Number of Arrows to Burst Balloons.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="./">
            
                <a href="./">
            
                    
                    Chapter1 Greedy
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="56. Merge Intervals.html">
            
                <a href="56. Merge Intervals.html">
            
                    
                    56. Merge Intervals [Medium]
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="455. Assign Cookies.html">
            
                <a href="455. Assign Cookies.html">
            
                    
                    455. Assign Cookies [Easy]
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="135. Candy.html">
            
                <a href="135. Candy.html">
            
                    
                    135. Candy [Hard]
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="435. Non-overlapping Intervals.html">
            
                <a href="435. Non-overlapping Intervals.html">
            
                    
                    435. Non-overlapping Intervals [Medium]
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="376. Wiggle Subsequence.html">
            
                <a href="376. Wiggle Subsequence.html">
            
                    
                    376. Wiggle Subsequence [Medium]
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="738. Monotone Increasing Digits.html">
            
                <a href="738. Monotone Increasing Digits.html">
            
                    
                    738. Monotone Increasing Digits [Medium]
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="605. Can Place Flowers.html">
            
                <a href="605. Can Place Flowers.html">
            
                    
                    605. Can Place Flowers [Easy]
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="452. Minimum Number of Arrows to Burst Balloons.html">
            
                <a href="452. Minimum Number of Arrows to Burst Balloons.html">
            
                    
                    452. Minimum Number of Arrows to Burst Balloons [Medium]
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2.9" data-path="763. Partition Labels.html">
            
                <a href="763. Partition Labels.html">
            
                    
                    763. Partition Labels [Medium]
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="122. Best Time to Buy and Sell Stock II.html">
            
                <a href="122. Best Time to Buy and Sell Stock II.html">
            
                    
                    122. Best Time to Buy and Sell Stock II [Easy]
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="135. Candy.html">
            
                <a href="135. Candy.html">
            
                    
                    406. Queue Reconstruction by Height [Medium]
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.12" data-path="665. Non-decreasing Array.html">
            
                <a href="665. Non-decreasing Array.html">
            
                    
                    665. Non-decreasing Array [Easy]
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >763. Partition Labels [Medium]</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="763-partition-labels-medium"><a href="https://leetcode.com/problems/partition-labels/" target="_blank">763. Partition Labels</a> [Medium]</h1>
<p>A string <code>S</code> of lowercase letters is given. We want to partition this string into as many parts as possible so that each letter appears in at most one part, and return a list of integers representing the size of these parts.</p>
<p><strong>Example 1:</strong></p>
<pre><code>Input: S = &quot;ababcbacadefegdehijhklij&quot;
Output: [9,7,8]
Explanation:
The partition is &quot;ababcbaca&quot;, &quot;defegde&quot;, &quot;hijhklij&quot;.
This is a partition so that each letter appears in at most one part.
A partition like &quot;ababcbacadefegde&quot;, &quot;hijhklij&quot; is incorrect, because it splits S into less parts.
</code></pre><p><strong>Note:</strong></p>
<ol>
<li><code>S</code> will have length in range <code>[1, 500]</code>.</li>
<li><code>S</code> will consist of lowercase letters (<code>&apos;a&apos;</code> to <code>&apos;z&apos;</code>) only.</li>
</ol>
<hr>
<h2 id="anaylsis"><strong>Anaylsis:</strong></h2>
<p>This problem can be much easier to deal with if we use a hash table to track the first position, the last position of the letters, and whether they appear only once in the given string, knowing that the first and last appearances of some letter must be included in the same partition. Letters that only appear once in the string can be parted solo if not entrapped within a partition.</p>
<p>Given a hash map that documents the left most and right most positions of letters, the problem is converted to something very similat to problem <a href="https://leetcode.com/problems/merge-intervals/" target="_blank">56. Merge Intervals</a>, because we can simply merge the letter intervals and get the partitions.</p>
<h2 id="code"><strong>Code:</strong></h2>
<pre><code class="lang-cpp"><span class="hljs-keyword">class</span> Solution {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; partitionLabels(<span class="hljs-built_in">string</span> S) {
        <span class="hljs-keyword">int</span> n = S.size();
        <span class="hljs-comment">// Constructing the hash map to store the first and last positions of letters</span>
        <span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">char</span>, pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; hash_map;
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i){
            <span class="hljs-keyword">char</span> c = S[i];
            <span class="hljs-keyword">if</span>(hash_map.find(c) != hash_map.end())
                hash_map[c].second = i;
            <span class="hljs-keyword">else</span>
                hash_map[c] = make_pair(i, i);
        }
        <span class="hljs-comment">// Merge the intervals</span>
        <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; intervals;
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span> interval : hash_map)
            intervals.push_back(interval.second);
        sort(intervals.begin(), intervals.end());
        <span class="hljs-built_in">vector</span>&lt;pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; merged;
        <span class="hljs-keyword">for</span> (pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; interval: intervals) {
            <span class="hljs-keyword">if</span> (merged.size() == <span class="hljs-number">0</span>) {
                merged.push_back(interval);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (interval.first &lt;= merged.back().second)
                    merged.back().second = max(interval.second, merged.back().second);
                <span class="hljs-keyword">else</span> 
                    merged.push_back(interval);
            }
        }  
        <span class="hljs-comment">//      </span>
        <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; res;
        <span class="hljs-keyword">for</span>(pair&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt; item : merged)
            res.push_back(item.second - item.first + <span class="hljs-number">1</span>);
        <span class="hljs-keyword">return</span> res;
    }
};
</code></pre>
<h2 id="complexity"><strong>Complexity:</strong></h2>
<ul>
<li><p>The time complexity of constructing the hash map is <code>O(n)</code>. Merging the intervals takes two steps. First, sorting the intervals, which is <code>O(nlogn)</code>; second, merging the intervals, which is <code>O(n)</code>. Finally, computing the lengths of intervals may also take at most <code>O(n)</code>. Thus, the time complexity of this algorithm is <code>O(nlogn)</code>.</p>
</li>
<li><p>The extra space in this algorithm is used for storing the hash map, which takes <code>O(n)</code>. Storing the sorted merged result and the lengths of intervals also take <code>O(n)</code>. Thus, the space complexity of this algorithm is <code>O(n)</code>.</p>
</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="452. Minimum Number of Arrows to Burst Balloons.html" class="navigation navigation-prev " aria-label="Previous page: 452. Minimum Number of Arrows to Burst Balloons [Medium]">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="122. Best Time to Buy and Sell Stock II.html" class="navigation navigation-next " aria-label="Next page: 122. Best Time to Buy and Sell Stock II [Easy]">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"763. Partition Labels [Medium]","level":"1.2.9","depth":2,"next":{"title":"122. Best Time to Buy and Sell Stock II [Easy]","level":"1.2.10","depth":2,"path":"Greedy/122. Best Time to Buy and Sell Stock II.md","ref":"Greedy/122. Best Time to Buy and Sell Stock II.md","articles":[]},"previous":{"title":"452. Minimum Number of Arrows to Burst Balloons [Medium]","level":"1.2.8","depth":2,"path":"Greedy/452. Minimum Number of Arrows to Burst Balloons.md","ref":"Greedy/452. Minimum Number of Arrows to Burst Balloons.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Greedy/763. Partition Labels.md","mtime":"2021-01-07T03:12:54.027Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-01-07T03:20:20.494Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

